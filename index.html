
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Body Composition Dashboard</title>
<style>
:root{
  --bg:#0b0f17; --panel:#0f1624; --text:#e8edf6; --muted:#9aa7bd; --line:#1f2a40;
  --accent:#4aa3ff; --good:#2ad37d; --warn:#ffc66e; --bad:#ff5b5b;
}
*{box-sizing:border-box}
body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;background:radial-gradient(1200px 700px at 20% 0%,#0e1730,#070b12);color:var(--text)}
.wrap{max-width:1200px;margin:0 auto;padding:18px}
.top{display:flex;gap:10px;align-items:center;justify-content:space-between}
.brand{display:flex;gap:10px;align-items:center}
.logo{width:36px;height:36px;border-radius:10px;background:linear-gradient(135deg,#4aa3ff,#2ad37d)}
.btn{background:#10192a;border:1px solid var(--line);color:var(--text);padding:8px 12px;border-radius:10px;cursor:pointer}
.btn.primary{background:linear-gradient(135deg,#4aa3ff,#2ad37d);border-color:transparent}
.btn.danger{background:linear-gradient(135deg,#ff5b5b,#ff9191);border-color:transparent}
.row{display:grid;grid-template-columns:1.4fr .9fr;gap:14px;margin-top:14px}
.card{background:linear-gradient(180deg,rgba(255,255,255,.04),rgba(255,255,255,.01));border:1px solid var(--line);border-radius:16px;padding:14px}
.calendar{display:grid;grid-template-columns:repeat(7,1fr);gap:8px}
.day{min-height:90px;border:1px solid var(--line);border-radius:12px;padding:8px;background:rgba(0,0,0,.25)}
.day h4{margin:0;font-size:12px}
.badge{font-size:11px;border:1px solid var(--line);border-radius:999px;padding:3px 7px;display:inline-block;margin-top:6px}
.kpis{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}
.kpi{border:1px solid var(--line);border-radius:12px;padding:10px}
.modes{display:flex;gap:6px}
.modes .btn{opacity:.6}
.modes .btn.active{opacity:1;border-color:var(--accent)}
</style>
</head>
<body>
<div class="wrap">
  <div class="top">
    <div class="brand"><div class="logo"></div><div>
      <strong>Body Composition Dashboard</strong>
      <div style="font-size:12px;color:var(--muted)">Fat loss · Weight loss · Weight gain</div>
    </div></div>
    <div class="modes">
      <button class="btn active" data-mode="fat">Fat loss</button>
      <button class="btn" data-mode="loss">Weight loss</button>
      <button class="btn" data-mode="gain">Weight gain</button>
    </div>
  </div>

  <div class="row">
    <div class="card">
      <strong>This Month</strong>
      <div class="calendar" id="cal"></div>
    </div>
    <div class="card">
      <strong>Dashboard</strong>
      <div class="kpis">
        <div class="kpi"><div>Avg calories (7d)</div><strong id="kcal">—</strong></div>
        <div class="kpi"><div>Protein (7d)</div><strong id="prot">—</strong></div>
        <div class="kpi"><div>Scale trend</div><strong id="trend">—</strong></div>
        <div class="kpi"><div>Refeed</div><strong id="refeed">—</strong></div>
      </div>
    </div>
  </div>
</div>

<script>
const cal=document.getElementById('cal');
const now=new Date(); const y=now.getFullYear(), m=now.getMonth();
const days=new Date(y,m+1,0).getDate();

// seed demo data if empty
if(!localStorage.getItem('bodycomp_days')){
  const seed=[];
  for(let d=1;d<=days;d++){
    seed.push({date:new Date(y,m,d).toISOString().slice(0,10), target: d%7==0?2300:(d%3==0?2700:2500)});
  }
  localStorage.setItem('bodycomp_days',JSON.stringify(seed));
}

function render(){
  cal.innerHTML='';
  const data=JSON.parse(localStorage.getItem('bodycomp_days')||'[]');
  data.forEach((r,i)=>{
    const el=document.createElement('div');
    el.className='day';
    el.innerHTML=`<h4>${i+1}</h4><span class="badge">Target ${r.target}</span>`;
    cal.appendChild(el);
  });
  const avg=Math.round(data.reduce((s,r)=>s+r.target,0)/data.length);
  document.getElementById('kcal').textContent=avg;
  document.getElementById('prot').textContent='200 g';
  document.getElementById('trend').textContent='steady';
  document.getElementById('refeed').textContent='no';
}
render();

document.querySelectorAll('.modes .btn').forEach(b=>{
  b.onclick=()=>{
    document.querySelectorAll('.modes .btn').forEach(x=>x.classList.remove('active'));
    b.classList.add('active');
    const mode=b.dataset.mode;
    const data=JSON.parse(localStorage.getItem('bodycomp_days'));
    data.forEach(r=>{
      r.target = mode==='gain'?3000:(mode==='loss'?2400:2500);
    });
    localStorage.setItem('bodycomp_days',JSON.stringify(data));
    render();
  };
});
</script>
</body>
</html>
